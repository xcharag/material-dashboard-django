{% load i18n static admin_material %}

<aside style="z-index: 1;" class="sidenav navbar navbar-vertical navbar-expand-xs border-radius-lg fixed-start ms-2  bg-white my-2" id="sidenav-main">
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-dark opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand px-4 py-3 m-0" href="{% url "index" %}">
        <span class="ms-1 font-weight-bold">CeRe</span>
      </a>
    </div>
    <hr class="horizontal dark mt-0 mb-2">
    <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
        {% if app_list %}
          {% for app in app_list %}
            {% if app.has_perms and not app.pinned %}
              <li class="nav-item">
                <a data-bs-toggle="collapse" href="#apps" class="nav-link text-dark" aria-controls="apps" role="button" aria-expanded="false">
                  <i class="material-symbols-rounded opacity-5">dashboard</i>
                  <span class="nav-link-text ms-2 ps-1">{{ app.label|slice:10 }}{% if app.label|length > 10 %}..{% endif %}</span>
                </a>
                {% if app.models %}
                <div class="collapse show" id="apps">
                  <ul class="nav">
                    {% for model in app.models %}
                      {% if model.url %}
                        <li class="nav-item">
                          <a class="nav-link text-dark" href="{{ model.url }}">
                            <span class="sidenav-mini-icon"> {{ model.label|first }} </span>
                            <span class="sidenav-normal  ms-2  ps-1"> {{ model.label }} </span>
                          </a>
                        </li>
                      {% else %}
                        <li class="nav-item">{{ model.label }}</li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                </div>
                {% endif %}
              </li>
            {% endif %}
          {% endfor %}
        {% endif %}
        
        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Opciones</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if 'dashboard' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "index" %}">
            <i class="material-symbols-rounded opacity-5">dashboard</i>
            <span class="nav-link-text ms-1">Panel</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if 'patients' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url 'patients' %}">
            <i class="material-symbols-rounded opacity-5">groups</i>
            <span class="nav-link-text ms-1">Pacientes</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if 'consult' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url 'consult' %}">
            <i class="material-symbols-rounded opacity-5">format_list_bulleted</i>
            <span class="nav-link-text ms-1">Citas</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if 'profesional' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url 'professionals' %}">
            <i class="material-symbols-rounded opacity-5">psychology</i>
            <span class="nav-link-text ms-1">Psicologos/Psiquiatras</span>
          </a>
        </li>
{#        <li class="nav-item">#}
{#          <a class="nav-link {% if 'charts' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "charts" %}">#}
{#            <i class="material-symbols-rounded opacity-5">bar_chart</i>#}
{#            <span class="nav-link-text ms-1">Charts</span>#}
{#          </a>#}
{#        </li>#}

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Reportes</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if 'reportsession' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}">
            <i class="material-symbols-rounded opacity-5">description</i>
            <span class="nav-link-text ms-1">Reporte Sesiones</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if 'eegstats' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}">
            <i class="material-symbols-rounded opacity-5">analytics</i>
            <span class="nav-link-text ms-1">Estadisticas EEG</span>
          </a>
        </li>
{#        <li class="nav-item">#}
{#          <a class="nav-link {% if 'virtual_reality' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "virtual_reality" %}">#}
{#            <i class="material-symbols-rounded opacity-5">view_in_ar</i>#}
{#            <span class="nav-link-text ms-1">Virtual Reality</span>#}
{#          </a>#}
{#        </li>#}
{#        <li class="nav-item">#}
{#          <a class="nav-link {% if 'rtl' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "rtl" %}">#}
{#            <i class="material-symbols-rounded opacity-5">format_textdirection_r_to_l</i>#}
{#            <span class="nav-link-text ms-1">RTL</span>#}
{#          </a>#}
{#        </li>#}
{#        <li class="nav-item">#}
{#          <a class="nav-link {% if 'notifications' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "notifications" %}">#}
{#            <i class="material-symbols-rounded opacity-5">notifications</i>#}
{#            <span class="nav-link-text ms-1">Notifications</span>#}
{#          </a>#}
{#        </li>#}
{#        <li class="nav-item">#}
{#          <a class="nav-link {% if 'map' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "map" %}">#}
{#            <i class="material-symbols-rounded opacity-5">map</i>#}
{#            <span class="nav-link-text ms-1">Map</span>#}
{#          </a>#}
{#        </li>#}
{#        <li class="nav-item">#}
{#          <a class="nav-link {% if 'icons' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "icons" %}">#}
{#            <i class="material-symbols-rounded opacity-5">flag</i>#}
{#            <span class="nav-link-text ms-1">Icons</span>#}
{#          </a>#}
{#        </li>#}
{#        <li class="nav-item">#}
{#          <a class="nav-link {% if 'typography' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "typography" %}">#}
{#            <i class="material-symbols-rounded opacity-5">title</i>#}
{#            <span class="nav-link-text ms-1">Typography</span>#}
{#          </a>#}
{#        </li>#}
        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Mi Cuenta</h6>
        </li>
        {% if request.user.is_staff %}
        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs text-dark font-weight-bolder opacity-5">Configuraciones</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if 'config_consultorios' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url 'config_consultorios' %}">
            <i class="material-symbols-rounded opacity-5">meeting_room</i>
            <span class="nav-link-text ms-1">Consultorios</span>
          </a>
        </li>
        {% endif %}
        {% if request.user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link {% if 'profile' == segment %} active bg-gradient-dark text-white {% else %} text-dark {% endif %}" href="{% url "profile" %}">
            <i class="material-symbols-rounded opacity-5">person</i>
            <span class="nav-link-text ms-1">Perfil</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="{% url "logout" %}">
            <i class="material-symbols-rounded opacity-5">login</i>
            <span class="nav-link-text ms-1">Cerrar Sesión</span>
          </a>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link text-dark" href="{% url "login" %}">
            <i class="material-symbols-rounded opacity-5">login</i>
            <span class="nav-link-text ms-1">Iniciar Sesión</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="{% url "register" %}">
            <i class="material-symbols-rounded opacity-5">assignment</i>
            <span class="nav-link-text ms-1">Registrarse</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </div>
{#    <div class="sidenav-footer position-absolute w-100 bottom-0 ">#}
{#      <div class="mx-3">#}
{#        <a class="btn bg-gradient-dark w-100" href="https://app-generator.dev/product/material-dashboard/django/" type="button">Descargar</a>#}
{#      </div>#}
{#    </div>#}
</aside>